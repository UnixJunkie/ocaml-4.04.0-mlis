["module", "Mindstorm_NXT",
["Mty_signature", ["Sig_type", "usb", 0, ["Type_abstract"]],
["Sig_type", "bluetooth", 0, ["Type_abstract"]],
["Sig_type", "conn", 1, ["Type_abstract"]],
["Sig_value", "connect_bluetooth",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "conn"], ["Tconstr", ["Pident", "bluetooth"]]]]]],
["Sig_module", "USB",
["Mty_signature", ["Sig_type", "device", 0, ["Type_abstract"]],
["Sig_value", "bricks",
["Tarrow", ["Tconstr", ["Pident", "unit"]],
["Tconstr", ["Pident", "list"], ["Tconstr", ["Pident", "device"]]]]],
["Sig_value", "connect",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "device"]],
["Tconstr", ["Pident", "conn"], ["Tconstr", ["Pident", "usb"]]]]]]]],
["Sig_value", "close",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_type", "error", 0,
["Type_variant", ["constructor", "No_more_handles", ["tuple"]],
["constructor", "No_space", ["tuple"]],
["constructor", "No_more_files", ["tuple"]],
["constructor", "EOF_expected", ["tuple"]],
["constructor", "Not_a_linear_file", ["tuple"]],
["constructor", "No_linear_space", ["tuple"]],
["constructor", "Undefined_error", ["tuple"]],
["constructor", "File_is_busy", ["tuple"]],
["constructor", "No_write_buffers", ["tuple"]],
["constructor", "Append_not_possible", ["tuple"]],
["constructor", "File_is_full", ["tuple"]],
["constructor", "File_exists", ["tuple"]],
["constructor", "Module_not_found", ["tuple"]],
["constructor", "Out_of_boundary", ["tuple"]],
["constructor", "Illegal_file_name", ["tuple"]],
["constructor", "Pending", ["tuple"]],
["constructor", "Empty_mailbox", ["tuple"]],
["constructor", "Failed", ["tuple"]], ["constructor", "Unknown", ["tuple"]],
["constructor", "Insane", ["tuple"]],
["constructor", "Out_of_range", ["tuple"]],
["constructor", "Bus_error", ["tuple"]],
["constructor", "Buffer_full", ["tuple"]],
["constructor", "Invalid_conn", ["tuple"]],
["constructor", "Busy_conn", ["tuple"]],
["constructor", "No_program", ["tuple"]],
["constructor", "Bad_size", ["tuple"]],
["constructor", "Bad_mailbox", ["tuple"]],
["constructor", "Bad_field", ["tuple"]],
["constructor", "Bad_io", ["tuple"]],
["constructor", "Out_of_memory", ["tuple"]],
["constructor", "Bad_arg", ["tuple"]]]], ["Sig_unknown"], ["Sig_unknown"],
["Sig_module", "Program",
["Mty_signature",
["Sig_value", "start",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]],
["Sig_value", "stop",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_value", "name",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "string"]]]]]],
["Sig_module", "Motor",
["Mty_signature", ["Sig_type", "port", 0, ["Type_abstract"]],
["Sig_value", "a", ["Tconstr", ["Pident", "port"]]],
["Sig_value", "b", ["Tconstr", ["Pident", "port"]]],
["Sig_value", "c", ["Tconstr", ["Pident", "port"]]],
["Sig_value", "all", ["Tconstr", ["Pident", "port"]]],
["Sig_type", "regulation", 0, ["Type_alias", ["Tunknown"]]],
["Sig_type", "run_state", 0, ["Type_alias", ["Tunknown"]]],
["Sig_type", "state", 0,
["Type_record", ["label", "speed", ["Tconstr", ["Pident", "int"]]],
["label", "motor_on", ["Tconstr", ["Pident", "bool"]]],
["label", "brake", ["Tconstr", ["Pident", "bool"]]],
["label", "regulation", ["Tconstr", ["Pident", "regulation"]]],
["label", "turn_ratio", ["Tconstr", ["Pident", "int"]]],
["label", "run_state", ["Tconstr", ["Pident", "run_state"]]],
["label", "tach_limit", ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "speed",
["Tarrow", ["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "int"]]],
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "int"]]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "state"]]]]]]]],
["Sig_value", "set",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Tarrow", ["Tconstr", ["Pident", "state"]], ["Tconstr", ["Pident", "unit"]]]]]]],
["Sig_value", "get",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Ttuple", ["Tconstr", ["Pident", "state"]], ["Tconstr", ["Pident", "int"]],
["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "reset_pos",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "port"]], ["Tconstr", ["Pident", "unit"]]]]]]]]],
["Sig_module", "Sensor",
["Mty_signature", ["Sig_type", "t", 0, ["Type_abstract"]],
["Sig_type", "port", 0, ["Type_alias", ["Tunknown"]]],
["Sig_type", "sensor_type", 0, ["Type_alias", ["Tunknown"]]],
["Sig_type", "mode", 0, ["Type_alias", ["Tunknown"]]],
["Sig_value", "set",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Tarrow", ["Tconstr", ["Pident", "sensor_type"]],
["Tarrow", ["Tconstr", ["Pident", "mode"]], ["Tconstr", ["Pident", "unit"]]]]]]]],
["Sig_type", "data", 0,
["Type_record",
["label", "sensor_type", ["Tconstr", ["Pident", "sensor_type"]]],
["label", "mode", ["Tconstr", ["Pident", "mode"]]],
["label", "valid", ["Tconstr", ["Pident", "bool"]]],
["label", "raw", ["Tconstr", ["Pident", "int"]]],
["label", "normalized", ["Tconstr", ["Pident", "int"]]],
["label", "scaled", ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "get",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]], ["Tconstr", ["Pident", "data"]]]]],
["Sig_value", "color_of_data",
["Tarrow", ["Tconstr", ["Pident", "data"]], ["Tunknown"]]],
["Sig_value", "reset_scaled",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]], ["Tconstr", ["Pident", "unit"]]]]]],
["Sig_value", "get_status",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]], ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "write",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Tarrow", ["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "int"]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]]]],
["Sig_value", "read",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Tconstr", ["Pident", "string"]]]]],
["Sig_module", "Ultrasonic",
["Mty_signature", ["Sig_type", "t", 1, ["Type_abstract"]],
["Sig_value", "make",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "port"]],
["Tconstr", ["Pident", "t"], ["Tpoly", "a"]]]]],
["Sig_value", "set",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tunknown"], ["Tconstr", ["Pident", "unit"]]]]]],
["Sig_value", "get",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tunknown"], ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "get_state",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]], ["Tunknown"]]]]]]],
["Sig_module", "Sound",
["Mty_signature",
["Sig_value", "play",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]]],
["Sig_value", "stop",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_value", "play_tone",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "unit"]]]]]]]]],
["Sig_module", "Message",
["Mty_signature", ["Sig_type", "mailbox", 0, ["Type_alias", ["Tunknown"]]],
["Sig_type", "remote", 0, ["Type_alias", ["Tunknown"]]],
["Sig_value", "write",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "mailbox"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]]],
["Sig_value", "read",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tunknown"], ["Tconstr", ["Pident", "string"]]]]]]]],
["Sig_type", "in_channel", 1, ["Type_abstract"]],
["Sig_value", "open_in",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "in_channel"], ["Tpoly", "a"]]]]],
["Sig_value", "in_channel_length",
["Tarrow", ["Tconstr", ["Pident", "in_channel"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]],
["Sig_value", "close_in",
["Tarrow", ["Tconstr", ["Pident", "in_channel"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "input",
["Tarrow", ["Tconstr", ["Pident", "in_channel"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pdot", ["Pident", "Bytes"], "t"]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "int"]]]]]]],
["Sig_type", "out_channel", 1, ["Type_abstract"]],
["Sig_type", "out_flag", 0, ["Type_alias", ["Tunknown"]]],
["Sig_value", "open_out",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "out_flag"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "out_channel"], ["Tpoly", "a"]]]]]],
["Sig_value", "close_out",
["Tarrow", ["Tconstr", ["Pident", "out_channel"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "output",
["Tarrow", ["Tconstr", ["Pident", "out_channel"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "int"]]]]]]],
["Sig_value", "remove",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_module", "Find",
["Mty_signature", ["Sig_type", "iterator", 1, ["Type_abstract"]],
["Sig_value", "patt",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "iterator"], ["Tpoly", "a"]]]]],
["Sig_value", "current",
["Tarrow", ["Tconstr", ["Pident", "iterator"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "string"]]]],
["Sig_value", "current_size",
["Tarrow", ["Tconstr", ["Pident", "iterator"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]],
["Sig_value", "next",
["Tarrow", ["Tconstr", ["Pident", "iterator"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "close",
["Tarrow", ["Tconstr", ["Pident", "iterator"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "iter",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "unit"]]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]],
["Sig_value", "map",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "int"]], ["Tpoly", "b"]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "list"], ["Tpoly", "b"]]]]]],
["Sig_value", "fold",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tpoly", "b"], ["Tpoly", "b"]]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tpoly", "b"], ["Tpoly", "b"]]]]]]]],
["Sig_value", "firmware_version",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Ttuple", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "int"]],
["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "set_brick_name",
["Tarrow",
["Tconstr", ["Pident", "option"], ["Tconstr", ["Pident", "bool"]]],
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "unit"]]]]]],
["Sig_type", "brick_info", 0,
["Type_record", ["label", "brick_name", ["Tconstr", ["Pident", "string"]]],
["label", "bluetooth_addr", ["Tconstr", ["Pident", "string"]]],
["label", "signal_strength", ["Tconstr", ["Pident", "int"]]],
["label", "free_user_flash", ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "get_device_info",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "brick_info"]]]],
["Sig_value", "keep_alive",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]],
["Sig_value", "battery_level",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]],
["Sig_value", "delete_user_flash",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "bluetooth_reset",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tconstr", ["Pident", "usb"]]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "boot",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tconstr", ["Pident", "usb"]]],
["Tconstr", ["Pident", "unit"]]]],
["Sig_value", "poll_length",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tunknown"], ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "poll_command",
["Tarrow", ["Tconstr", ["Pident", "conn"], ["Tpoly", "a"]],
["Tarrow", ["Tunknown"],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Ttuple", ["Tconstr", ["Pident", "int"]], ["Tconstr", ["Pident", "string"]]]]]]]]]
