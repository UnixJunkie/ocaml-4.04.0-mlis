["module", "Expect_test_matcher",
["Mty_signature",
["Sig_module", "Cst",
["Mty_signature",
["Sig_module", "Line",
["Mty_signature",
["Sig_type", "not_blank", 1,
["Type_record",
["label", "trailing_blanks", ["Tconstr", ["Pident", "string"]]],
["label", "orig", ["Tconstr", ["Pident", "string"]]],
["label", "data", ["Tpoly", "a"]]]],
["Sig_value", "compare_not_blank",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "int"]]]],
["Tarrow", ["Tconstr", ["Pident", "not_blank"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "not_blank"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "sexp_of_not_blank",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]],
["Tarrow", ["Tconstr", ["Pident", "not_blank"], ["Tpoly", "a"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]],
["Sig_type", "t", 1,
["Type_variant",
["constructor", "Blank", ["tuple", ["Tconstr", ["Pident", "string"]]]],
["constructor", "Not_blank",
["tuple", ["Tconstr", ["Pident", "not_blank"], ["Tpoly", "a"]]]]]],
["Sig_value", "compare",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "int"]]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "sexp_of_t",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]],
["Sig_value", "invariant",
["Tarrow", ["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "unit"]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_value", "map",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tpoly", "a"], ["Tpoly", "b"]]],
["Tconstr", ["Pident", "t"], ["Tpoly", "b"]]]]],
["Sig_value", "strip",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "t"], ["Tpoly", "a"]]]],
["Sig_value", "data",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tpoly", "a"], ["Tpoly", "a"]]]]]],
["Sig_type", "single_line", 1,
["Type_record",
["label", "leading_blanks", ["Tconstr", ["Pident", "string"]]],
["label", "trailing_spaces", ["Tconstr", ["Pident", "string"]]],
["label", "orig", ["Tconstr", ["Pident", "string"]]],
["label", "data", ["Tpoly", "a"]]]],
["Sig_value", "compare_single_line",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "int"]]]],
["Tarrow", ["Tconstr", ["Pident", "single_line"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "single_line"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "sexp_of_single_line",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]],
["Tarrow", ["Tconstr", ["Pident", "single_line"], ["Tpoly", "a"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]],
["Sig_type", "multi_lines", 1,
["Type_record",
["label", "leading_spaces", ["Tconstr", ["Pident", "string"]]],
["label", "trailing_spaces", ["Tconstr", ["Pident", "string"]]],
["label", "indentation", ["Tconstr", ["Pident", "string"]]],
["label", "lines",
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]]]]],
["Sig_value", "compare_multi_lines",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "int"]]]],
["Tarrow", ["Tconstr", ["Pident", "multi_lines"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "multi_lines"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "sexp_of_multi_lines",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]],
["Tarrow", ["Tconstr", ["Pident", "multi_lines"], ["Tpoly", "a"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]],
["Sig_type", "t", 1,
["Type_variant",
["constructor", "Empty", ["tuple", ["Tconstr", ["Pident", "string"]]]],
["constructor", "Single_line",
["tuple", ["Tconstr", ["Pident", "single_line"], ["Tpoly", "a"]]]],
["constructor", "Multi_lines",
["tuple", ["Tconstr", ["Pident", "multi_lines"], ["Tpoly", "a"]]]]]],
["Sig_value", "compare",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "int"]]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "int"]]]]]],
["Sig_value", "sexp_of_t",
["Tarrow",
["Tarrow", ["Tpoly", "a"],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]],
["Sig_value", "invariant",
["Tarrow", ["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "unit"]]],
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_value", "empty", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]]],
["Sig_value", "map",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tpoly", "a"], ["Tpoly", "b"]]],
["Tconstr", ["Pident", "t"], ["Tpoly", "b"]]]]],
["Sig_value", "data",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tpoly", "a"], ["Tconstr", ["Pident", "list"], ["Tpoly", "a"]]]]],
["Sig_value", "strip",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "t"], ["Tpoly", "a"]]]],
["Sig_value", "to_string",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tvar", 0]],
["Tconstr", ["Pident", "string"]]]],
["Sig_value", "to_lines",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]]]],
["Sig_value", "trim_lines",
["Tarrow",
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]],
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]]]],
["Sig_value", "reconcile",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow",
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tconstr", ["Pident", "bool"]],
["Tconstr", ["Pident", "t"], ["Tpoly", "a"]]]]]]],
["Sig_value", "extract_indentation",
["Tarrow",
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]],
["Ttuple", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Line"], "t"], ["Tpoly", "a"]]]]]],
["Sig_value", "stripped_original_lines",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tvar", 1]],
["Tconstr", ["Pident", "list"], ["Tconstr", ["Pident", "string"]]]]]]],
["Sig_module", "Fmt",
["Mty_signature",
["Sig_type", "t", 0,
["Type_variant",
["constructor", "Regexp", ["tuple", ["Tconstr", ["Pident", "string"]]]],
["constructor", "Glob", ["tuple", ["Tconstr", ["Pident", "string"]]]],
["constructor", "Literal", ["tuple", ["Tconstr", ["Pident", "string"]]]]]],
["Sig_value", "compare",
["Tarrow", ["Tconstr", ["Pident", "t"]],
["Tarrow", ["Tconstr", ["Pident", "t"]], ["Tconstr", ["Pident", "int"]]]]],
["Sig_value", "sexp_of_t",
["Tarrow", ["Tconstr", ["Pident", "t"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Sexplib"], "Sexp"], "t"]]]]]],
["Sig_module", "Lexer",
["Mty_signature",
["Sig_value", "strip_surrounding_whitespaces",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pident", "unit"]]]]],
["Sig_value", "parse_pretty",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]],
["Sig_value", "parse_pretty_line",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]],
["Sig_value", "parse_body",
["Tarrow",
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"], ["Tconstr", ["Pident", "string"]]],
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]]],
["Sig_value", "extract_quoted_string_terminators",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "list"], ["Tconstr", ["Pident", "string"]]]]]]],
["Sig_module", "Choose_tag",
["Mty_signature",
["Sig_value", "choose",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tconstr", ["Pident", "string"]]]]]]],
["Sig_module", "Reconcile",
["Mty_signature",
["Sig_module", "Result",
["Mty_signature",
["Sig_type", "t", 1,
["Type_variant", ["constructor", "Match", ["tuple"]],
["constructor", "Correction", ["tuple", ["Tpoly", "a"]]]]],
["Sig_value", "map",
["Tarrow", ["Tconstr", ["Pident", "t"], ["Tpoly", "a"]],
["Tarrow", ["Tarrow", ["Tpoly", "a"], ["Tpoly", "b"]],
["Tconstr", ["Pident", "t"], ["Tpoly", "b"]]]]]]],
["Sig_value", "expectation_body",
["Tarrow",
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "int"]],
["Tarrow", ["Tconstr", ["Pident", "bool"]],
["Tconstr", ["Pdot", ["Pident", "Result"], "t"],
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]]]]]]]]],
["Sig_module", "Matcher",
["Mty_signature",
["Sig_module", "Test_outcome",
["Mty_signature",
["Sig_type", "t", 0,
["Type_record",
["label", "expectations",
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "File"],
"Location"], "Map"], "t"],
["Tconstr",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]]],
["label", "saved_output",
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "File"],
"Location"], "Map"], "t"], ["Tconstr", ["Pident", "string"]]]],
["label", "trailing_output", ["Tconstr", ["Pident", "string"]]]]]]],
["Sig_module", "Test_correction",
["Mty_signature", ["Sig_type", "t", 0, ["Type_abstract"]],
["Sig_value", "map_corrections",
["Tarrow", ["Tconstr", ["Pident", "t"]],
["Tarrow",
["Tarrow",
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]],
["Tconstr", ["Pident", "t"]]]]],
["Sig_type", "node_correction", 0,
["Type_variant", ["constructor", "Collector_never_triggered", ["tuple"]],
["constructor", "Correction",
["tuple",
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]]]]],
["Sig_value", "make",
["Tarrow",
["Tconstr",
["Pdot",
["Pdot", ["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "File"],
"Location"], "t"]],
["Tarrow",
["Tconstr", ["Pident", "list"],
["Ttuple",
["Tconstr",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]],
["Tconstr", ["Pident", "node_correction"]]]],
["Tarrow",
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Reconcile"], "Result"], "t"],
["Tconstr",
["Pdot",
["Pdot",
["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "Expectation"],
"Body"], "t"],
["Tconstr", ["Pdot", ["Pident", "Cst"], "t"],
["Tconstr", ["Pdot", ["Pident", "Fmt"], "t"]]]]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Reconcile"], "Result"], "t"],
["Tconstr", ["Pident", "t"]]]]]]]]],
["Sig_value", "evaluate_test",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow",
["Tconstr",
["Pdot",
["Pdot", ["Pdot", ["Pdot", ["Pident", "Expect_test_common"], "Std"], "File"],
"Location"], "t"]],
["Tarrow", ["Tconstr", ["Pdot", ["Pident", "Test_outcome"], "t"]],
["Tconstr", ["Pdot", ["Pdot", ["Pident", "Reconcile"], "Result"], "t"],
["Tconstr", ["Pdot", ["Pident", "Test_correction"], "t"]]]]]]],
["Sig_type", "mode", 0,
["Type_variant", ["constructor", "Inline_expect_test", ["tuple"]],
["constructor", "Toplevel_expect_test", ["tuple"]]]],
["Sig_value", "write_corrected",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "mode"]],
["Tarrow",
["Tconstr", ["Pident", "list"],
["Tconstr", ["Pdot", ["Pident", "Test_correction"], "t"]]],
["Tconstr", ["Pident", "unit"]]]]]]],
["Sig_value", "print_diff",
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "string"]],
["Tarrow", ["Tconstr", ["Pident", "bool"]], ["Tconstr", ["Pident", "unit"]]]]]]]],
["Sig_module", "Std",
["Mty_signature",
["Sig_module", "Choose_tag", ["Mty_alias", ["Pident", "Choose_tag"]]],
["Sig_module", "Cst", ["Mty_alias", ["Pident", "Cst"]]],
["Sig_module", "Fmt", ["Mty_alias", ["Pident", "Fmt"]]],
["Sig_module", "Lexer", ["Mty_alias", ["Pident", "Lexer"]]],
["Sig_module", "Matcher", ["Mty_alias", ["Pident", "Matcher"]]],
["Sig_module", "Reconcile", ["Mty_alias", ["Pident", "Reconcile"]]]]]]]
